seed: 42
device: "cuda"

data:
  name: "dummy"
  root: "./data"
  batch_size: 8
  num_workers: 4
  img_size: 256
  sinogram_shape: [1, 512, 720]

model:
  generator:
    in_channels: 1
    base_channels: 48
    use_ghost: true
    use_condconv: true
    condconv_experts: 4
    use_eca: true
    num_down: 4
  sinogram_encoder:
    enabled: true
    penc: 0.5
    channels: 32
  discriminator:
    in_channels: 1
    base_channels: 64
    spectral_norm: false

loss:
  adv_weight: 1.0
  perceptual_weight: 0.1
  ssim_weight: 0.5
  ffl_weight: 0.5
  edge_weight: 0.2

train:
  max_epochs: 200
  amp: true
  mixstyle:
    enabled: true
    p: 0.5
    alpha: 0.1
  optimizer:
    lr: 0.0002
    betas: [0.5, 0.999]
    weight_decay: 0.0
  onecycle:
    enabled: true
    div_factor: 25
    final_div_factor: 100
    pct_start: 0.3
  swa:
    enabled: true
    start_epoch: 100
    anneal_epochs: 10
    anneal_strategy: "cos"
  early_stop:
    enabled: true
    metric: "ssim"
    patience: 10
  log_dir: "./runs"
  ckpt_dir: "./checkpoints"
  print_every: 50
  val_every: 500

eval:
  metrics: ["psnr", "ssim", "lpips"]
  save_visuals: true
  out_dir: "./reports"

inference:
  onnx_export: false
  torchscript_export: true
  export_dir: "./exports"
